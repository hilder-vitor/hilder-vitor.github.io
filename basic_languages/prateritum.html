<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Präteritum - Deutsch</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Hilder Vítor Lima Pereira">

		<!-- icons -->
		<link rel="apple-touch-icon" href="assets/img/apple-touch-icon.png">
		<link rel="shortcut icon" href="favicon.ico">

		<!-- Override CSS file - add your own CSS rules -->
		<link rel="stylesheet" href="assets/css/styles.css">

<script>
/*******************************************************
A event lister to the ENTER KEY is created in the end of
this page. Check the last <script> section.
*******************************************************/


// shuffles the given vector of length n
function shuffle(vec, n) {
	for (var i = n - 1; i > 0; i--) {
		var j = Math.floor(Math.random() * (i + 1));
		var temp = vec[i];
		vec[i] = vec[j];
		vec[j] = temp;
	}
	return vec
}

/* i -> infinitive, prat -> 'präteritum', t -> english translation */
verbs =  [ {i:'anfangen', prat: 'fing an', t: 'to begin'},
           {i:'antworten', prat: 'antwortete', t: 'to answer, to reply'},
           {i:'arbeiten', prat: 'arbeitete', t: 'to work'},
           {i:'aufwachen', prat: 'wachte auf', t: 'to wake up'},
           {i:'aussehen', prat: 'sah aus', t: 'to look like'},
           {i:'baden', prat: 'badete', t: 'to bathe'},
           {i:'bauen', prat: 'baute', t: 'to build'},
           {i:'beeilen', prat: 'beeilte', t: 'to hurry'},
           {i:'beginnen', prat: 'begann', t: 'to begin'},
           {i:'bekommen', prat: 'bekam', t: 'to get, receive'},
           {i:'bestellen', prat: 'bestellte', t: 'to order'},
           {i:'besuchen', prat: 'besuchte', t: 'to visit'},
           {i:'beten', prat: 'betete', t: 'to pray'},
           {i:'bewerben', prat: 'bewarb', t: 'to apply'},
           {i:'bezahlen', prat: 'bezahlte', t: 'to pay for'},
           {i:'biegen', prat: 'bog', t: 'to turn, to bend'},
           {i:'bieten', prat: 'bot', t: 'to offer'},
           {i:'bitten', prat: 'bat', t: 'to ask for'},
           {i:'bleiben', prat: 'blieb', t: 'to stay'},
           {i:'blicken', prat: 'blickte', t: 'to look, glance'},
           {i:'brauchen', prat: 'brauchte', t: 'to need, use'},
           {i:'brechen', prat: 'brach', t: 'to break'},
           {i:'bringen', prat: 'brachte', t: 'to bring'},
           {i:'bürsten', prat: 'bürstete', t: 'to brush (hair) or clean with a brush'},
           {i:'danken', prat: 'dankte', t: 'to thank'},
           {i:'dauern', prat: 'dauerte', t: 'to last'},
           {i:'denken', prat: 'dachte', t: 'to think'},
           {i:'diskutieren', prat: 'diskutierte', t: 'to discuss'},
           {i:'drücken', prat: 'drückte', t: 'to press'},
           {i:'duschen', prat: 'duschte', t: 'to shower'},
           {i:'empfehlen', prat: 'empfahl', t: 'to recommend'},
           {i:'entscheiden', prat: 'entschied', t: 'to decide'},
           {i:'entschuldigen', prat: 'entschuldigte', t: 'to excuse oneself'},
           {i:'entspannen', prat: 'entspannte', t: 'to relax'},
           {i:'erinnern', prat: 'erinnerte', t: 'to remember'},
           {i:'erkennen', prat: 'erkannte', t: 'to recognize'},
           {i:'erklären', prat: 'erklärte', t: 'to explain'},
           {i:'erlauben', prat: 'erlaubte', t: 'to allow, permit'},
           {i:'erleben', prat: 'erlebte', t: 'to experience'},
           {i:'erzählen', prat: 'erzählte', t: 'to tell about'},
           {i:'essen', prat: 'aß', t: 'to eat'},
           {i:'fahren', prat: 'fuhr', t: 'to drive, to go'},
           {i:'fallen', prat: 'fiel', t: 'to fall'},
           {i:'fangen', prat: 'fing', t: 'to catch'},
           {i:'faulenzen', prat: 'faulenzte', t: 'to be lazy'},
           {i:'fehlen', prat: 'fehlte', t: 'to be missing'},
           {i:'feiern', prat: 'feierte', t: 'to celebrate'},
           {i:'finden', prat: 'fand', t: 'to find'},
           {i:'fliegen', prat: 'flog', t: 'to fly'},
           {i:'folgen', prat: 'folgte', t: 'to follow'},
           {i:'fotografieren', prat: 'fotografierte', t: 'to photograph'},
           {i:'fragen', prat: 'fragte', t: 'to ask'},
           {i:'freuen', prat: 'freute', t: 'to be happy'},
           {i:'fühlen', prat: 'fühlte', t: 'to feel'},
           {i:'geben', prat: 'gab', t: 'to give'},
           {i:'gefallen', prat: 'gefiel', t: 'to be pleasing, like'},
           {i:'gehen', prat: 'ging', t: 'to go'},
           {i:'gewinnen', prat: 'gewann', t: 'to winn'},
           {i:'glauben', prat: 'glaubte', t: 'to believe, think'},
           {i:'gratulieren', prat: 'gratulierte', t: 'to congratulate'},
           {i:'haben', prat: 'hatte', t: 'to have'},
           {i:'halten', prat: 'hielt', t: 'to stop, hold'},
           {i:'handeln', prat: 'handelte', t: 'to deal with'},
           {i:'heiraten', prat: 'heiratete', t: 'to marry'},
           {i:'heißen', prat: 'hieß', t: 'to be called'},
           {i:'helfen', prat: 'half', t: 'to help'},
           {i:'hoffen', prat: 'hoffte', t: 'to hope'},
           {i:'holen', prat: 'holte', t: 'to fetch'},
           {i:'hören', prat: 'hörte', t: 'to hear, to listen'},
           {i:'interessieren', prat: 'interessierte', t: 'to interest'},
           {i:'joggen', prat: 'joggte', t: 'to jog'},
           {i:'kämmen', prat: 'kämmte', t: 'to comb'},
           {i:'kaufen', prat: 'kaufte', t: 'to buy'},
           {i:'kennen', prat: 'kannte', t: 'to know people'},
           {i:'klettern', prat: 'kletterte', t: 'to climb'},
           {i:'klingen', prat: 'klang', t: 'to sound'},
           {i:'kochen', prat: 'kochte', t: 'to cook'},
           {i:'kommen', prat: 'kam', t: 'to come'},
           {i:'konzentrieren', prat: 'konzentrierte', t: 'to concentrate'},
           {i:'kosten', prat: 'kostete', t: 'to cost'},
           {i:'kriegen', prat: 'kriegte', t: 'to get'},
           {i:'küssen', prat: 'küsste', t: 'to kiss'},
           {i:'lächeln', prat: 'lächelte', t: 'to smile'},
           {i:'lachen', prat: 'lachte', t: 'to laugh'},
           {i:'lassen', prat: 'ließ', t: 'to allow, to let, to leave'},
           {i:'laufen', prat: 'lief', t: 'to run, walk'},
           {i:'leben', prat: 'lebte', t: 'to live'},
           {i:'legen', prat: 'legte', t: 'to lay/put down'},
           {i:'leihen', prat: 'lieh', t: 'to lend/borrow'},
           {i:'leiten', prat: 'leitete', t: 'to lead, head'},
           {i:'lernen', prat: 'lernte', t: 'to learn, study'},
           {i:'lesen', prat: 'las', t: 'to read'},
           {i:'lieben', prat: 'liebte', t: 'to love'},
           {i:'liegen', prat: 'lag', t: 'to lie, be lying'},
           {i:'machen', prat: 'machte', t: 'to do, make'},
           {i:'meinen', prat: 'meinte', t: 'to mean, think'},
           {i:'nehmen', prat: 'nahm', t: 'to take'},
           {i:'nennen', prat: 'nannte', t: 'to name, call'},
           {i:'öffnen', prat: 'öffnete', t: 'to open'},
           {i:'packen', prat: 'packte', t: 'to pack'},
           {i:'passen', prat: 'passte', t: 'to fit, suit'},
           {i:'passieren', prat: 'passierte', t: 'to happen'},
           {i:'planen', prat: 'plante', t: 'to plan'},
           {i:'probieren', prat: 'probierte', t: 'to try, attempt'},
           {i:'putzen', prat: 'putzte', t: 'to clean'},
           {i:'rasieren', prat: 'rasierte', t: 'to shave'},
           {i:'reden', prat: 'redete', t: 'to talk, converse'},
           {i:'regnen', prat: 'regnete', t: 'to rain'},
           {i:'reisen', prat: 'reiste', t: 'to travel'},
           {i:'reiten', prat: 'ritt', t: 'to ride'},
           {i:'rennen', prat: 'rannte', t: 'to run, race'},
           {i:'reservieren', prat: 'reservierte', t: 'to reserve'},
           {i:'retten', prat: 'rettete', t: 'to save from'},
           {i:'rufen', prat: 'rief', t: 'to call'},
           {i:'sagen', prat: 'sagte', t: 'to say'},
           {i:'schaden', prat: 'schadete', t: 'to harm, hurt'},
           {i:'schaffen', prat: 'schaffte', t: 'to manage, do'},
           {i:'schauen', prat: 'schaute', t: 'to look, glance'},
           {i:'scheinen', prat: 'schien', t: 'to appear'},
           {i:'schenken', prat: 'schenkte', t: 'to give a gift'},
           {i:'schicken', prat: 'schickte', t: 'to send'},
           {i:'schlafen', prat: 'schlief', t: 'to sleep'},
           {i:'schlagen', prat: 'schlug', t: 'to hit'},
           {i:'schließen', prat: 'schloss', t: 'to close'},
           {i:'schmecken', prat: 'schmeckte', t: 'to taste'},
           {i:'schminken', prat: 'schminkte', t: 'to put on makeup'},
           {i:'schneiden', prat: 'schnitt', t: 'to cut'},
           {i:'schneien', prat: 'schneite', t: 'to snow'},
           {i:'schreiben', prat: 'schrieb', t: 'to write'},
           {i:'schreien', prat: 'schrie', t: 'to yell'},
           {i:'schwimmen', prat: 'schwamm', t: 'to swim'},
           {i:'sehen', prat: 'sah', t: 'to see'},
           {i:'sein', prat: 'war', t: 'to be'},
           {i:'setzen', prat: 'setzte', t: 'to set down'},
           {i:'singen', prat: 'sang', t: 'to sing'},
           {i:'sitzen', prat: 'saß', t: 'to be sitting'},
           {i:'sparen', prat: 'sparte', t: 'to save'},
           {i:'spielen', prat: 'spielte', t: 'to play'},
           {i:'spinnen', prat: 'spann', t: 'to spin'},
           {i:'sprechen', prat: 'sprach', t: 'to speak'},
           {i:'springen', prat: 'sprang', t: 'to jump'},
           {i:'stehen', prat: 'stand', t: 'to stand'},
           {i:'steigen', prat: 'stieg', t: 'to climb'},
           {i:'stellen', prat: 'stellte', t: 'to place, put'},
           {i:'sterben', prat: 'starb', t: 'to die'},
           {i:'stimmen', prat: 'stimmte', t: 'to be right'},
           {i:'strecken', prat: 'streckte', t: 'to stretch'},
           {i:'studieren', prat: 'studierte', t: 'to study'},
           {i:'suchen', prat: 'suchte', t: 'to look for'},
           {i:'surfen', prat: 'surfte', t: 'to surf'},
           {i:'tanzen', prat: 'tanzte', t: 'to dance'},
           {i:'teilen', prat: 'teilte', t: 'to share'},
           {i:'töten', prat: 'tötete', t: 'to kill'},
           {i:'tragen', prat: 'trug', t: 'to wear, carry'},
           {i:'träumen', prat: 'träumte', t: 'to dream'},
           {i:'treffen', prat: 'traf', t: 'to meet'},
           {i:'trennen', prat: 'trennte', t: 'to separate'},
           {i:'treten', prat: 'trat', t: 'to step, kick'},
           {i:'trinken', prat: 'trank', t: 'to drink'},
           {i:'trocknen', prat: 'trocknete', t: 'to dry'},
           {i:'tun', prat: 'tat', t: 'to do'},
           {i:'verdienen', prat: 'verdiente', t: 'to earn'},
           {i:'vergessen', prat: 'vergaß', t: 'to forget'},
           {i:'verlieben', prat: 'verliebte', t: 'to fall in love'},
           {i:'verlieren', prat: 'verlor', t: 'to lose'},
           {i:'verloben', prat: 'verlobte', t: 'to get engaged'},
           {i:'verstehen', prat: 'verstand', t: 'to understand'},
           {i:'vorbereiten', prat: 'bereitete vor', t: 'to prepare'},
           {i:'vorschlagen', prat: 'schlug vor', t: 'to suggest'},
           {i:'wachsen', prat: 'wuchs', t: 'to grow'},
           {i:'wandern', prat: 'wanderte', t: 'to hike'},
           {i:'warten', prat: 'wartete', t: 'to wait'},
           {i:'waschen', prat: 'wusch', t: 'to wash'},
           {i:'weinen', prat: 'weinte', t: 'to cry'},
           {i:'werden', prat: 'wurde', t: 'to become'},
           {i:'werfen', prat: 'warf', t: 'to throw'},
           {i:'wiederholen', prat: 'wiederholte', t: 'to repeat'},
           {i:'wissen', prat: 'wusste', t: 'to know facts'},
           {i:'wohnen', prat: 'wohnte', t: 'to live, dwell'},
           {i:'wünschen', prat: 'wünschte', t: 'to wish'},
           {i:'zahlen', prat: 'zahlte', t: 'to pay'},
           {i:'zeigen', prat: 'zeigte', t: 'to show'},
           {i:'ziehen', prat: 'zog', t: 'to pull'}]


TOTAL_VERBS = verbs.length
QNT_VERBS = 15

current_verb = -1
right_answers = 0
wrong_answers = 0

// verbs will be shown in a random order according to this random permutation
verbs = shuffle(verbs, TOTAL_VERBS)


function show_final_message(){
	document.getElementById("div_score").style.visibility = "hidden"

	percentual = (100*(right_answers / (right_answers + wrong_answers))).toFixed(0)
	document.getElementById("div_form").innerHTML = "" +
	"<u><h3> Congratulations, you have conjugated " + QNT_VERBS + " verbs!!!</h3></u>"+
	"<br/>"+
	"<p> You have correctly answered <b>" + percentual + "%</b> of the questions.</p>"+
	"<br/>"+
	"<p> Click on ''Reload'' to practice with new verbs. </p>"+
	"<button href='#' class='btn' id='btnReload' onclick='location.reload();'>Reload</button>"
}

function load_new_verb() {

	document.getElementById("div_feedback").style.visibility = "hidden";

	document.getElementById("btn_new").style.visibility = "hidden";
	document.getElementById("btn_check").style.visibility = "visible";

	document.getElementById("input_answer").readOnly = false

	current_verb += 1

	if (current_verb == QNT_VERBS){
		show_final_message()
	}else{
		verb = verbs[current_verb]
		document.getElementById("p_infinitive").innerHTML = verb.i;
		document.getElementById("input_answer").value = "";
		document.getElementById("input_answer").focus()
	}
}

function update_div_score(){
	document.getElementById("p_correct_anwers").innerHTML = "Correct answers: " + right_answers + ".";
	document.getElementById("p_wrong_answers").innerHTML = "Wrong answers: " + wrong_answers + ".";
	document.getElementById("p_percentual").innerHTML = "Percentual: " + (right_answers / (right_answers + wrong_answers)).toFixed(2) + ".";
}

function show_positive_feedback(){
	div_feedback = document.getElementById("div_feedback")
	div_feedback.style.visibility = "visible";
	div_feedback.innerHTML = "<p> Very good!   (: </p>"
	div_feedback.style.background = "LightGreen"
	div_feedback.style.color = "black"
}

function show_negative_feedback(){
	verb = verbs[current_verb]
	div_feedback = document.getElementById("div_feedback")
	div_feedback.style.visibility = "visible";
	div_feedback.innerHTML = "<p> Wrong... The expected answer was <b>''Ich " + verb.prat + "''</b>. </p>"
	div_feedback.style.background = "Crimson"
	div_feedback.style.color = "white"
}

function verify_answer() {
	verb = verbs[current_verb]

	/* show the translation */
	document.getElementById("p_infinitive").innerHTML = verb.i + " (" + verb.t + ")";

	expected_answer = new RegExp("\\s*" + verb.prat + "\\s*", 'i');
	answer = "" + document.getElementById("input_answer").value;
	correct = expected_answer.test(answer)

	if (correct){
		right_answers += 1
		show_positive_feedback()
	}else{
		show_negative_feedback()
		wrong_answers += 1
	}

	update_div_score()

	document.getElementById("input_answer").readOnly = true
	
	document.getElementById("btn_new").style.visibility = "visible";
	document.getElementById("btn_check").style.visibility = "hidden";
}



</script>

	</head>
	<body>
		<div class="container">
			<div class="header">
				<h1 class="header-heading">Präteritum (past tense - German)</h1>
			</div>
			<div class="nav-bar">
				<ul class="nav">
					<li><a href="../index.html">Home</a></li>
					<li><a href="#"></a></li>
				</ul>
			</div>
			<div class="content">
				<div class="main">

					<h1>Conjugate the verb in the Präteritum</h1>
					<hr>
					<div style="height:250px" >
						<div id="div_form" style="background-color:LightBlue; padding:10px; height:200px; float: left" >
							<b> <p id="p_infinitive" style="text-align:center"> Ops...    </p> </b>

							<p> Ich <input style="width:200px" type="text" id="input_answer" />.</p>

							<button href="#" id="btn_new" class="btn" style="visibility:;" onclick="load_new_verb();">New</button>
							<button href="#" id="btn_check" class="btn" onclick="verify_answer()">Check</button></p>
						</div>
					
						<div id="div_score" style="background-color:#b0b0b0; padding:10px; width:200px; height:200px; float:right" >
							<p id="p_correct_anwers"> Correct answers: 0 </p>
							<p id="p_wrong_answers"> Wrong answers: 0</p>
							<p id="p_percentual"> </p>
						</div>

					</div>
					<div id="div_feedback" style="background-color:LightGreen; color:black; width:450px; padding:5px;visibility:hidden;">
					</div>
			
					<div id="feedback_negative" style="background-color:Crimson; color:white; width:450px; padding:5px;visibility:hidden;">
					</div>
					<hr>
					<p> You can press "ENTER" instead of clicking on "Check" and "New".</p>

					<p>Notice that you can deduce the conjugation for the other pronouns (du, sie, er, wir, etc) from the conjugation used in this page: in general, for irregular verbs, add <b>st</b> for du and <b>en</b> for wir/sie (plural)/Sie. Thus, ich ging ==> du gingst, es/er/sie ging, wir gingen, ihr gingt, Sie gingen. </p>
	
				</div>
			</div>
			<div class="footer">
				A good reference: <a href="http://www.dartmouth.edu/~deutsch/Grammatik/SimplePast/SimplePast.html" > Dartmouth </a>.
				<br />
				If you see any error, problem, etc or you have any suggestion, please, send me an e-mail (hilder [dot] vitor @ gmail [dot]com).
			</div>
		</div>

		<script>
			load_new_verb()
			ENTER = 13
			document.addEventListener('keypress', function (e) {

				if (ENTER == e.keyCode) {
					btnNew = document.getElementById("btn_new")
					// check if the button to load new verb is on the screen
					if (btnNew != null && btnNew.style.visibility == "visible"){
						load_new_verb()
					}else{
						//	test if btn_check is active
						btnCheck = document.getElementById("btn_check")
						if (btnCheck != null && btnCheck.style.visibility == "visible"){
							verify_answer()
						}else{ // btnReload is active
							location.reload()
						}
					}
				}
			})
		</script>
	</body>
</html>
